<div>
    <div class="text-center" data-ng-if="$ctrl.loading.all">
        <oui-spinner data-size="l"></oui-spinner>
    </div>

    <div class="row" data-ng-show="!$ctrl.loading.all && $ctrl.dns.nameServers">
        <div class="col-md-9">
            <div data-ovh-alert="{{alerts.main}}"></div>

            <oui-message
                type="success"
                data-ng-if="$ctrl.displayPropagationInfo"
            >
                <span data-translate="domain_tab_DNS_update_success"></span>
            </oui-message>

            <div
                class="alert alert-warning"
                role="alert"
                data-translate="domain_tab_DNS_warning_only_one_dns"
                data-ng-if="!$ctrl.dns.isUpdatingNameServers && $ctrl.dns.nameServers.length === 1"
            ></div>

            <div
                class="alert alert-info"
                role="alert"
                data-ng-if="$ctrl.allowModification"
            >
                <span
                    data-translate="domain_tab_DNS_unlock_warning_manuel_check"
                ></span>
                <a
                    data-ng-href="{{$ctrl.urls.zoneCheck}}"
                    title="{{ ('domain_tab_DNS_unlock_warning_manuel_check_tool' | translate) + ' (' + ('core_new_window' | translate) + ')'}}"
                    target="_blank"
                >
                    <span
                        data-translate="domain_tab_DNS_unlock_warning_manuel_check2"
                    ></span>
                    <span class="fa fa-external-link" aria-hidden="true"></span>
                </a>
            </div>

            <oui-datagrid
                page-size="8"
                data-rows="$ctrl.dns.nameServers"
                data-pagination-mode="arrows"
            >
                <oui-datagrid-column
                    data-title="'domain_tab_DNS_name' | translate"
                >
                    <span data-ng-bind="$row.name"></span>
                </oui-datagrid-column>
                <oui-datagrid-column
                    data-title="'domain_tab_DNS_ip' | translate"
                >
                    <span data-ng-bind="$row.ip || '-'"></span>
                </oui-datagrid-column>
                <oui-datagrid-column
                    data-title="'domain_tab_DNS_state' | translate"
                >
                    <span
                        class="oui-badge"
                        data-ng-class="{
                            'oui-badge_info': $row.status === $ctrl.constants.DNS_STATUS.ADDING,
                            'oui-badge_warning': $row.status === $ctrl.constants.DNS_STATUS.DELETING,
                            'oui-badge_success': $row.status === $ctrl.constants.DNS_STATUS.ACTIVATED
                        }"
                        data-ng-bind="'domain_tab_DNS_state_' + $row.status | translate"
                    ></span>
                </oui-datagrid-column>
            </oui-datagrid>
        </div>

        <div class="col-md-3 mt-5 mt-lg-0">
            <div class="mb-5">
                <button
                    class="btn btn-block btn-default"
                    type="button"
                    data-ng-click="$ctrl.dns.isAnycastSubscribed ? $ctrl.goToTerminateAnycast() : $ctrl.goToDnsAnycast()"
                    data-ng-if="$ctrl.allowModification"
                    data-track-on="click"
                    data-track-name="web::domain::server-dns::activation-dns-anycast"
                    data-track-click="action"
                >
                    {{ $ctrl.dns.isAnycastSubscribed ?
                    'domain_configuration_dnsanycast_terminate_button' :
                    'domain_configuration_dnsanycast_activate_button' |
                    translate }}
                </button>
                <button
                    class="btn btn-block btn-default"
                    type="button"
                    data-translate="domain_configuration_dns_config"
                    data-ng-click="$ctrl.goToDnsModify()"
                ></button>
            </div>

            <div
                data-wuc-guides
                data-wuc-guides-title="'guide_domain_subtitle' | translate"
                data-wuc-guides-list="'dns'"
                data-tr="tr"
            ></div>
        </div>
    </div>
</div>
