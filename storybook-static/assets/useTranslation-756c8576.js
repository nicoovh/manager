import{I as D,R,g as F,_ as M,a as U}from"./i18next-65ce221f.js";import{r as d}from"./index-76fb7be0.js";function _(){if(console&&console.warn){for(var n,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];typeof t[0]=="string"&&(t[0]="react-i18next:: ".concat(t[0])),(n=console).warn.apply(n,t)}}var T={};function N(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&T[e[0]]||(typeof e[0]=="string"&&(T[e[0]]=new Date),_.apply(void 0,e))}function L(n,e,t){n.loadNamespaces(e,function(){if(n.isInitialized)t();else{var a=function i(){setTimeout(function(){n.off("initialized",i)},0),t()};n.on("initialized",a)}})}function B(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=e.languages[0],i=e.options?e.options.fallbackLng:!1,f=e.languages[e.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var r=function(o,u){var g=e.services.backendConnector.state["".concat(o,"|").concat(u)];return g===-1||g===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!r(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(a,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||r(a,n)&&(!i||r(f,n)))}function H(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return N("i18n.languages were undefined or empty",e.languages),!0;var a=e.options.ignoreJSONStructure!==void 0;return a?e.hasLoadedNamespace(n,{precheck:function(f,r){if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&f.services.backendConnector.backend&&f.isLanguageChangingTo&&!r(f.isLanguageChangingTo,n))return!1}}):B(n,e,t)}function J(n){if(Array.isArray(n))return n}function W(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a,i,f,r,p=[],o=!0,u=!1;try{if(f=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;o=!1}else for(;!(o=(a=f.call(t)).done)&&(p.push(a.value),p.length!==e);o=!0);}catch(g){u=!0,i=g}finally{try{if(!o&&t.return!=null&&(r=t.return(),Object(r)!==r))return}finally{if(u)throw i}}return p}}function E(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}function K(n,e){if(n){if(typeof n=="string")return E(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(n,e)}}function Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(n,e){return J(n)||W(n,e)||K(n,e)||Y()}function k(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,a)}return t}function I(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k(Object(t),!0).forEach(function(a){M(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}var q=function(e,t){var a=d.useRef();return d.useEffect(function(){a.current=t?a.current:e},[e,t]),a.current};function V(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.i18n,a=d.useContext(D)||{},i=a.i18n,f=a.defaultNS,r=t||i||U();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new R),!r){N("You will need to pass in an i18next instance by using initReactI18next");var p=function(l){return Array.isArray(l)?l[l.length-1]:l},o=[p,{},!1];return o.t=p,o.i18n={},o.ready=!1,o}r.options.react&&r.options.react.wait!==void 0&&N("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=I(I(I({},F()),r.options.react),e),g=u.useSuspense,j=u.keyPrefix,s=n||f||r.options&&r.options.defaultNS;s=typeof s=="string"?[s]:s||["translation"],r.reportNamespaces.addUsedNamespaces&&r.reportNamespaces.addUsedNamespaces(s);var m=(r.isInitialized||r.initializedStoreOnce)&&s.every(function(c){return H(c,r,u)});function y(){return r.getFixedT(null,u.nsMode==="fallback"?s:s[0],j)}var z=d.useState(y),x=$(z,2),P=x[0],h=x[1],O=s.join(),C=q(O),v=d.useRef(!0);d.useEffect(function(){var c=u.bindI18n,l=u.bindI18nStore;v.current=!0,!m&&!g&&L(r,s,function(){v.current&&h(y)}),m&&C&&C!==O&&v.current&&h(y);function w(){v.current&&h(y)}return c&&r&&r.on(c,w),l&&r&&r.store.on(l,w),function(){v.current=!1,c&&r&&c.split(" ").forEach(function(S){return r.off(S,w)}),l&&r&&l.split(" ").forEach(function(S){return r.store.off(S,w)})}},[r,O]);var A=d.useRef(!0);d.useEffect(function(){v.current&&!A.current&&h(y),A.current=!1},[r,j]);var b=[P,r,m];if(b.t=P,b.i18n=r,b.ready=m,m||!m&&!g)return b;throw new Promise(function(c){L(r,s,function(){c()})})}export{V as u};
//# sourceMappingURL=useTranslation-756c8576.js.map
